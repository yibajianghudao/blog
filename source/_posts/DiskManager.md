---
title: DiskManager
tags:
  - disk
date: 2025-05-04 14:31:05
---


# 磁盘管理

## 分类

|          | 机械硬盘(HDD)    | 固态硬盘(SSD) |
| -------- | ---------------- | ------------- |
| 性价比   | 容量大价格低     | 容量小价格高  |
| 稳定     | 抗击打能力弱     | 抗击打能力高  |
| 速度     | 读写速度(IO)稍慢 | 读写速度快    |
| 数据安全 | 数据易恢复       | 数据恢复难    |
| 寿命     | 寿命长           | 1-2w次        |

## 磁盘接口

| 接口  | 说明                                                 |
| ----- | ---------------------------------------------------- |
| SATA  | 一般家用,多用于机械硬盘,也有固态硬盘,容量大,价格较低 |
| SAS   | 给企业环境使用,一般用于机械硬盘,也有固态硬盘         |
| PCI-E | 企业级使用,固态硬盘                                  |
| U.2   | 企业级固态硬盘,接口类似SATA,兼容SATA,SAS             |

## 磁盘选型

1. 一般情况,数据备份: SATA硬盘,10krpm 4tb,8tb存放备份
2. 网站服务器使用: SAS接口 15krpm 300G,600G,900G
3. 高并发网站服务器: 选择固态硬盘PCI-E,SAS,SATA

rpm(round per minute)每分钟多少转

## 磁盘结构

1. 盘片: 实际存放数据的地方(0 1二进制数据)
2. 磁头: 贴近盘片读写数据
3. 磁道: 磁盘中的圆环形区域,从0开始
4. 扇区: 磁盘上最小存储单位,默认512字节
5. 柱面: 不同盘面上相同的磁道组成的形状

## RAID

RAID(**R**edundant **A**rray of **I**ndependent **D**isks),独立硬盘冗余阵列,简称磁盘阵列,利用虚拟化存储技术把多个硬盘组合起来成为一个或多个硬盘阵列组,目的是为提升效能或资料冗余,或是两者同时提升.

RAID把多个硬盘组合成为一个逻辑硬盘,因此操作系统只会把它当作一个实体硬盘,RAID常用在服务器电脑上,并且常使用完全相同的硬盘作为组合.

服务器需要先制作完raid之后才能安装系统,部署服务.

### 特点

根据不同的raid级别有所区别,一般无法同时满足:

1. 获取更多容量
2. 获取更高性能
3. 获取更高冗余(安全)

### RAID级别

| Raid级别        | 最少需要硬盘数 | 安全冗余                | 可用容量               | 性能                      | 使用场景                       | 举例                          |
| --------------- | -------------- | ----------------------- | ---------------------- | ------------------------- | ------------------------------ | ----------------------------- |
| Raid0(条带串联) | 1              | 最低,一块损坏则全部损坏 | 所有硬盘容量的和       | 读写最快(n倍)             | 追求最大容量,速度,不在乎安全性 | 数据库从库,存储从库,web服务器 |
| Raid1(镜像)     | 只能有两块     | 100%                    | 两块硬盘容量之和的一半 | 读取速度正常,写入速度慢   | 只追求安全性,不追求速度        | 系统盘,监控服务器             |
| Raid5           | 3              | 最多损坏一块            | 损失一块盘             | 读取速度正常,写入性能不好 | 追求最大容量,最小预算          | 普遍数据库,存储访问量不高     |
| Raid10          | 4              | 最多损坏一半            | 损失所有硬盘容量的一半 | 读写比较快                | 对于安全和性能都需要           |                               |

#### RAID0

![image-20250502185308336](assets/image-20250502185308336.png)

